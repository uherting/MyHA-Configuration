##########################################################################################
# Templated Sensors
##########################################################################################

# template:

# we run the normal
- binary_sensor:
    - name: "Trigger ZB charger 01 charging based on "
      unique_id: "trigger zb charger 01 charging based on percentage"
      state: >
        {{ (states("sensor.spuhnote10pro_battery_level") | float(0)) < (states("input_number.l2_charger01_min_percentage_low_percentage") | float(0)) }}

    # - name: "Trigger ZB charger 01 charging based on zb_charger_01_force_delayed"
    #   unique_id: "trigger zb charger 01 charging based delayed charging"
    #   state: >
    #     {{ (states("binary_sensor.zb_charger_01_force_delayed")) && (now() == input_datetime.zb_charger_01_charging_start_time) }}

    - name: "Trigger ZB charger 01 emergency charging based on zb_charger_01_force_delayed / l2_charger01_min_percentage_emergency"
      unique_id: "trigger zb charger 01 emergency charging"
      state: >
        {{ (states("binary_sensor.zb_charger_01_force_delayed")) and ((states("sensor.spuhnote10pro_battery_level") | float(0)) < (states("input_number.l2_charger01_min_percentage_emergency") | float(0))) }}

####################################################################
# EOF
####################################################################
