# ############################################################
#
#  Take care that the ZB plug L2 kitchen kettle
#
# ############################################################

# ############################################################
# Zigbee plug turn off after x minutes if power consumption is below x watts
# ############################################################
- alias: ZB plug kitchen kettle auto off timer
  id: "fcd10427-4f0a-4f42-9247-d63271af5a83"
  initial_state: false
  # --------------------- TRIGGER ---------------------
  # after the plug was on for x minutes the switch goes off
  trigger:
    - platform: state
      entity_id: binary_sensor.zb_plug_auto_off_l2_kitchen_kettle
      to: "on"
  # -------------------- CONDITIONS -------------------
  # if power consumption is below x watts
  condition: []
  # condition:
  #   - condition: template
  #     value_template: '{{ (states("sensor.zb_plug_l2_kitchen_kettle_power") | float(0)) < 35 }}'
  # --------------------- ACTIONS ---------------------
  action:
    # ------------------ ZB Plug OFF ------------------
    service: switch.turn_off
    entity_id: switch.zb_plug_l2_kitchen_kettle
############################################################
#  END OF FILE
# ############################################################

