# ############################################################
#
#  Home assistant start / stop info
#
# ############################################################


# ############################################################
# ha_startup_notification
# ############################################################
- alias: HA startup notification
  id: '56f21f84-a67c-11eb-a2ec-07e7a0fc6b5d'
  initial_state: true
# --------------------- TRIGGER ---------------------
  trigger:
  - platform: homeassistant
    event: start
# --------------------- ACTIONS ---------------------
  action:
# --------------------- NOTIFY ---------------------
    - service: notify.ha_status_info
      data_template:
        message: >
          Home Assistant is up and running
          Date / time: {{ states('sensor.date_time') }}
    - service: automation.turn_off
      data:
        entity_id: automation.ha_startup_notification

# ############################################################
# ha_shutdown_notification
# ############################################################
- alias: HA shutdown notification
  id: '78f21f84-a67c-11eb-a2ec-07e7a0fc6b5d'
  initial_state: true
# --------------------- TRIGGER ---------------------
  trigger:
  - platform: homeassistant
    event: shutdown
# -------------------- CONDITIONS -------------------
  # none whatsoever
  condition: []
# --------------------- ACTIONS ---------------------
  action:
# --------------------- NOTIFY ---------------------
    - service: notify.ha_status_info
      data_template:
        message: >
          Home Assistant is shutting down.
          Date / time: {{ states('sensor.date_time') }}
    - service: automation.turn_off
      data:
        entity_id: automation.ha_shutdown_notification

# ############################################################
#  END OF FILE
# ############################################################
