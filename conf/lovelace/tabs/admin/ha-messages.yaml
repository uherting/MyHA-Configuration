####################################################################
####################################################################
#
# ha-messages tab --- lovelace configuration
#
####################################################################
####################################################################

icon: mdi:home-assistant
title: HA messages
path: ha-messages
badges: [ 
          person.uwe, 
          person.gillian,
          sun.sun,
          binary_sensor.sun_dwn_twilight,
          binary_sensor.workday_sensor,
          binary_sensor.updater,
          sensor.potential_breaking_changes
  ]

cards:
#  # integrated but not connected devices
#  - type: entity-filter
#    show_empty: false
#    card:
#      title: Update for HA available
#      show_header_toggle: false
#    state_filter:
#      - "on"
#    entities:
#      - binary_sensor.updater

  # HA Google Drive Backup - stale snapshot
  - type: conditional
    conditions:
      - entity: binary_sensor.backups_stale
        state_not: 'off'
    card:
      type: markdown
      content: >-
        Backups are stale! Please visit the <a href="/hassio/ingress/cebe7a76_hassio_google_drive_backup">HA Google Drive Backup</a> add-on
        status page for details.
      title: Stale Backups!

  # HACS updates
  - type: entities
    title: Home Assistant - overall info
    show_header_toggle: false
    entities:
      - entity: binary_sensor.updater
        name: HA update available
      - type: divider
      - entity: sensor.potential_breaking_changes
        name: Breaking changes
      - type: divider
      - entity: sensor.hacs
        icon: 'hacs:hacs'
        name: HACS updates
      - type: divider
      - entity: sensor.backup_state
        icon: 'mdi:cloud-upload-outline'
        name: HA Google Backup state
      - type: divider
      - entity: sensor.last_boot
        icon: 'mdi:calendar'
        name: Last boot (HA host)

####################################################################
# EOF
####################################################################
