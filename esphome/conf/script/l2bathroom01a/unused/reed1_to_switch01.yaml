####################################################################
# SCRIPTS

#script:
# on_press action of reed relay #01
- id: tb_d5_click_on_press
  mode: restart
  then:
    # I cannot tell why the following lines were inserted...
    # - if:
    #     condition:
    #       - script.is_running: tb_d5_click_on_press
    #     then:
    #       - script.stop: tb_d5_click_on_press

    # the following should avoid action while the toilet is still getting flushed
    - delay: !secret DELAY_10SEC
    - lambda: id(${relay01_id}).turn_on();
    - delay: !secret DELAY_60SEC
    - lambda: id(${relay01_id}).turn_off();
####################################################################
# EOF
####################################################################
